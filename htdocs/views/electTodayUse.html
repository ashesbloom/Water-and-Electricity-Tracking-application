<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Electricity Usage</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* Animated Gradient Background */
        body {
            background: linear-gradient(270deg, #1e3a8a, #2563eb, #4ade80, #facc15, #f43f5e);
            background-size: 400% 400%;
            animation: gradientAnimation 8s ease infinite;
        }

        @keyframes gradientAnimation {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
    </style>
</head>

<body class="text-white min-h-screen flex flex-col">
    <!-- Header -->
    <header class="bg-opacity-70 bg-black text-white p-4 flex justify-between items-center shadow-md">
        <h1 class="text-xl font-bold">Electricity Usage Dashboard</h1>
    </header>

    <!-- Main Content -->
    <main class="p-8 flex-grow">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <!-- Current Usage Display -->
            <div class="bg-opacity-70 bg-black p-6 rounded-lg shadow-md flex flex-col items-center">
                <h2 class="text-lg font-semibold">Current Usage (in kWh)</h2>
                <div id="currentUsage" class="text-yellow-400 text-5xl font-bold mt-4 animate-pulse">0</div>
            </div>

            <!-- Line Chart for Hourly Usage -->
            <div class="md:col-span-2 bg-opacity-70 bg-black p-6 rounded-lg shadow-md">
                <h2 class="text-lg font-semibold mb-4">Hourly Usage</h2>
                <div class="relative w-full h-64">
                    <canvas id="hourlyUsageChart"></canvas>
                </div>
            </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-8">
            <!-- Bar Chart for Weekly Usage -->
            <div class="bg-opacity-70 bg-black p-6 rounded-lg shadow-md">
                <h2 class="text-lg font-semibold mb-4">Weekly Usage</h2>
                <div class="relative w-full h-64">
                    <canvas id="weeklyUsageChart"></canvas>
                </div>
            </div>

            <!-- Doughnut Chart for Usage Distribution -->
            <div class="bg-opacity-70 bg-black p-6 rounded-lg shadow-md">
                <h2 class="text-lg font-semibold mb-4">Usage Distribution</h2>
                <div class="relative w-full h-64">
                    <canvas id="usageDistributionChart"></canvas>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-opacity-70 bg-black text-white text-center p-4">
        Â© 2025 Electricity & Water Usage Dashboard
    </footer>

    <!-- JavaScript -->
    <script>
        // Simulated Data (Replace with Backend Data)
        const currentUsage = 120; // Example current usage in kWh
        const hourlyUsageData = [5, 8, 6, 10, 15, 12, 20, 25, 18, 22, 30, 28]; // Example hourly usage (1, 3, 5... hours)
        const weeklyUsageData = [80, 90, 85, 70, 95, 100, 110]; // Example weekly usage
        const usageDistributionData = [40, 30, 20, 10]; // Example distribution (e.g., cooling, heating, lighting, others)

        // Animate Current Usage
        const usageElement = document.getElementById('currentUsage');
        let usageCounter = 0;
        const usageInterval = setInterval(() => {
            if (usageCounter >= currentUsage) {
                clearInterval(usageInterval);
            } else {
                usageCounter++;
                usageElement.textContent = usageCounter;
            }
        }, 20); // Adjust speed as needed

        // Line Chart for Hourly Usage
        const hourlyUsageCtx = document.getElementById('hourlyUsageChart').getContext('2d');
        new Chart(hourlyUsageCtx, {
            type: 'line',
            data: {
                labels: ['1 AM', '3 AM', '5 AM', '7 AM', '9 AM', '11 AM', '1 PM', '3 PM', '5 PM', '7 PM', '9 PM', '11 PM'],
                datasets: [{
                    label: 'Hourly Usage (kWh)',
                    data: hourlyUsageData,
                    borderColor: 'rgba(59, 130, 246, 1)',
                    backgroundColor: 'rgba(59, 130, 246, 0.2)',
                    borderWidth: 2,
                    fill: true,
                }]
            },
            options: {
                responsive: true,
                animation: {
                    duration: 1500, // Animation duration in ms
                },
                plugins: {
                    legend: {
                        display: true,
                        position: 'top',
                    }
                }
            }
        });

        // Bar Chart for Weekly Usage
        const weeklyUsageCtx = document.getElementById('weeklyUsageChart').getContext('2d');
        new Chart(weeklyUsageCtx, {
            type: 'bar',
            data: {
                labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4', 'Week 5', 'Week 6', 'Week 7'],
                datasets: [{
                    label: 'Weekly Usage (kWh)',
                    data: weeklyUsageData,
                    backgroundColor: ['#4ade80', '#facc15', '#f43f5e', '#3b82f6', '#9333ea', '#f97316', '#ec4899'],
                    borderWidth: 2,
                }]
            },
            options: {
                responsive: true,
                animation: {
                    duration: 1500,
                },
                plugins: {
                    legend: {
                        display: true,
                        position: 'top',
                    }
                }
            }
        });

        // Doughnut Chart for Usage Distribution
        const usageDistributionCtx = document.getElementById('usageDistributionChart').getContext('2d');
        new Chart(usageDistributionCtx, {
            type: 'doughnut',
            data: {
                labels: ['Cooling', 'Heating', 'Lighting', 'Others'],
                datasets: [{
                    label: 'Usage Distribution',
                    data: usageDistributionData,
                    backgroundColor: ['#4ade80', '#facc15', '#f43f5e', '#3b82f6'],
                    borderWidth: 1,
                }]
            },
            options: {
                responsive: true,
                animation: {
                    duration: 1500,
                },
                plugins: {
                    legend: {
                        display: true,
                        position: 'top',
                    }
                }
            }
        });
    </script>
</body>
</html>